---
title: "Upgrading Umbraco 7 to Umbraco 13"
description: "This is my journey about updating an Umbraco 7 website to the latest version of Umbraco - which is Umbraco 13 as of today."
date: "2024-03-28"
draft: false
slug: "upgrading-umbraco-7-to-umbraco-13"
tags:
---

<p>This is my journey about updating an Umbraco 7 website to the latest version of Umbraco - which is Umbraco 13 as of today. The following content will be a detailed look into the process.</p><p>Due to database changes and Umbraco schema changes from Umbraco 7 to the current versions you cannot just do an in place upgrade of Umbraco. In order to get to the latest version of Umbraco you have to do incremental updates and migrations. </p><p>The first step is a content migration from database to database and then manually update whatever content didn't come over. Once the content is in a good place,  update the back end code and views to be compatible with the newest version of Umbraco and .Net.</p><p>In this post I will walk through the steps I took to migrate/update my Umbraco 7 instance to Umbraco 13 while documenting errors, pitfalls, what worked and what didn't work along the way.</p><p>Let's begin. </p><h2 id="usync-of-upgrade">uSync of upgrade</h2><p>I use uSync to migrate the content. There are a couple hoops you have to jump through in order to get this working properly. Luckily for me the fine folks at <a href="https://jumoo.co.uk/" rel="noreferrer">Jumoo</a> have written a good step by step guide for this process, you can also follow the guide that is detailed <a href="https://github.com/Jumoo/uSyncMigrations/tree/main" rel="noreferrer">here in the Jumoo Github repository</a>.</p><p>First install uSync into the source Umbraco 7.15.10 site. In order to follow these steps the site needs to be at least Umbraco 7.15.10. This is going to allow me to do an export of all my data which will be imported into the current Umbraco instance. </p><ul><li><strong>Upgrade your website to at least Umbraco 7.15.10</strong></li><li>Install uSync and supporting packages in your Umbraco 7 project. I used NuGet to install these versions. Make sure you install the versions that are compatible with your Umbraco version. </li><li> Install uSync Nuget packages:<ol><li>uSync - 4.015</li><li>uSync.BackOffice - 3.1.5.740</li><li>uSync.ContentEdition - 4.1.9.1</li><li>uSync.ContentMappers - 4.1.9</li><li>uSync.Core - 6.0.15</li></ol></li></ul><figure class="kg-card kg-image-card"><img src="/images/2024/03/usync_75.JPG" class="kg-image" alt="" loading="lazy" width="1195" height="614" srcset="/images/size/w600/2024/03/usync_75.JPG 600w, /images/size/w1000/2024/03/usync_75.JPG 1000w, /images/2024/03/usync_75.JPG 1195w" sizes="(min-width: 720px) 720px"></figure><ul><li>Download  <code>uSync.Migrations.Packer v7</code> <a href="https://github.com/Jumoo/uSyncMigrations/blob/main/GETTING-STARTED.md" rel="noreferrer">package from GitHub</a> and install it in your Umbraco 7.15 instance. This is a uSync package that will help prepare your 7.15 content to be exported in a format that can be imported into the latest version of Umbraco.</li><li>After you download the package, navigate to the Umbraco back office --&gt; Developer --&gt; Packages --&gt; Install local and add the package zip file.</li><li>After that package is installed, navigate back to the Developer landing page and select the <code>uSync BackOffice</code> tab. The URL for this tab is <code>/umbraco/#/developer</code> - I mention this because I could not find that tab after I installed the package. The older version of Umbraco was new to me as I'm familiar with the modern version of Umbraco, so it took me a little while to figure out how to get to this tab.</li><li>Update the uSync.BackOffice.config file. Set the following parameters:<ol><li><code>DontThrowErrors</code> = true</li><li><code>UseShortIdNames</code> = true</li></ol></li><li>Go back to the website. Click the <strong>Migrations tab</strong> and <strong>make pack button</strong>.</li><li>If you don't see the <strong>uSync BackOffice</strong> tab you, manually add it to the <code>Config\Dashboard.config</code> file by <a href="https://our.umbraco.com/packages/developer-tools/usync/usync/93660-usync-dashboard-not-visible" rel="noreferrer">pasting this code to the end of the file</a>:<br></li></ul><pre><code> &lt;section alias="usyncBackOffice"&gt;
    &lt;areas&gt;
      &lt;area&gt;developer&lt;/area&gt;
    &lt;/areas&gt;
    &lt;tab caption="uSync BackOffice"&gt;
      &lt;control&gt;/App_Plugins/usync/uSyncDashboard.html&lt;/control&gt;
    &lt;/tab&gt;
  &lt;/section&gt;</code></pre><figure class="kg-card kg-image-card"><img src="/images/2024/03/makepack-1.JPG" class="kg-image" alt="" loading="lazy" width="747" height="533" srcset="/images/size/w600/2024/03/makepack-1.JPG 600w, /images/2024/03/makepack-1.JPG 747w" sizes="(min-width: 720px) 720px"></figure><ul><li>Now uSync will do it's thing and eventually create a .zip folder containing your Umbraco 7 content. Download and save the .zip file to a location you can get to from your new Umbraco installation.</li></ul><h2 id="install-a-fresh-umbraco-12-site">Install a fresh Umbraco 12 site</h2>
<p>Now that the data is exported from Umbraco 7, we need to create your fresh new <strong>Umbraco 12 site</strong>.</p>
<p>This post is about migrating to Umbraco 13, however the code below uses a package called <strong>uSync Migrations</strong> and uSync Migrations <strong>does not support Umbraco 13</strong> at the time of this post. So, we will need to migrate to Umbraco 12 and then upgrade to Umbraco 13 after the migration is complete.</p>
<ul><li>Start by installing the Umbraco 12 templates for dotnet. Installing these templates will overwrite any Umbraco templates you already have created on your machine. So if you have 13 templates installed, you will need to reinstall them after this migration is complete.</li><li>Then run the following command from a command prompt:</li></ul><figure class="kg-card kg-code-card"><pre><code class="language-bash">dotnet new install Umbraco.Templates::12.3.7
</code></pre><figcaption><p><span style="white-space: pre-wrap;">Start by installing the Umbraco Templates for version 12</span></p></figcaption></figure><ul><li>You now should have the Umbraco 12 templates installed on your machine. As you can see my Umbraco 13 templates were uninstalled before the version 12 templates were installed.</li></ul><figure class="kg-card kg-image-card"><img src="/images/2024/03/umbracotemplates.JPG" class="kg-image" alt="" loading="lazy" width="902" height="219" srcset="/images/size/w600/2024/03/umbracotemplates.JPG 600w, /images/2024/03/umbracotemplates.JPG 902w" sizes="(min-width: 720px) 720px"></figure><ul><li>Next create a new Umbraco 12 project:</li></ul><pre><code class="language-bash">dotnet new umbraco -n MyUmbraco
dotnet build
dotnet run</code></pre><ul><li>You will now be able to configure your new Umbraco 12 project and website. This is going to be your new Umbraco 13 project solution and website. So go through the steps to configure the database and Umbraco website to match what you want the final Umbraco 13 site to be. Eventually this site will get upgraded to Umbraco 13.</li><li>Once the site is configured, install these uSync packages for Umbraco 12.</li></ul><figure class="kg-card kg-code-card"><pre><code class="language-bash">dotnet add package uSync --version 12.2.3
dotnet add package uSync.Migrations --version 4.0.0-phase.5.1</code></pre><figcaption><p><span style="white-space: pre-wrap;">Install Umbraco 12 packages</span></p></figcaption></figure><h2 id="migrate">Migrate</h2><p>After the new Umbraco 12 website is configured with uSync and uSync Migrations you are ready to do the migration. Again the Jumoo team does a fantastic job of documenting the necessary steps for a migration, so instead of copying what they've arleady written <a href="https://github.com/Jumoo/uSyncMigrations/blob/main/GETTING-STARTED.md#step-two-migrate" rel="noreferrer">follow the steps provided by the Jumoo team on the uSyncMigrations repo page</a>.</p><p>Once the migrations are all completed, you should have a content tree populated with the content from the Umbraco 7 site as well as all the other content from your Umbraco 7 site in your Umbraco 12 site.</p><h2 id="upgrade-to-umbraco-13">Upgrade to Umbraco 13</h2><p>The next step is to upgrade from Umbraco 12 to Umbraco 13 which should be pretty easy and straight forward. To do the upgrade to Umbraco 13 just follow <a href="https://docs.umbraco.com/umbraco-cms/fundamentals/setup/upgrading#upgrade-your-project-using-visual-studio" rel="noreferrer">these instructions to upgrade to Umbraco 13</a>.</p><h2 id="update-code-and-view-files">Update code and view files</h2><p>That's all there is to getting the content from Umbraco 7 into your new Umbraco 13 project. The next step is to update all the custom code behind and views from your Umbraco 7 project. </p><p>There are a lot of steps to go through in order to complete this upgrade. I started by copying over a simple content template and then configuring the Document Type to that new template. </p><p></p>
